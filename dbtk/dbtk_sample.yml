# dbtk sample configuration file
# Copy to ~/.config/dbtk.yml and customize

settings:
  default_column_case: lower
  default_country: US
  default_cursor_type: record
  default_header_clean: 2  # Clean.LOWER_NOSPACE
  default_timezone: UTC
  lookup_preload_threshold: 500  # if table size > threshold, preload all values for transforms.CodeLookup
  validator_preload_threshold: 1000 # if table size > threshold, preload all values for transforms.CodeValidator

  # Logging configuration for integration scripts
  logging:
    directory: ./logs                  # Directory for log files
    level: INFO                         # DEBUG, INFO, WARNING, ERROR, CRITICAL
    format: '%(asctime)s [%(levelname)s] %(name)s: %(message)s'
    timestamp_format: '%Y-%m-%d %H:%M:%S'  # Format for timestamps in log messages
    filename_format: '%Y%m%d_%H%M%S'   # Timestamp format for log filenames
                                        # Set to '%Y%m%d' for one log per day
                                        # Set to '' for single rolling log file (no timestamp)
    split_errors: true                  # Create separate _error.log file for errors
    console: true                       # Also output to console
    retention_days: 30                  # Days to keep old log files (for cleanup_old_logs)

connections:
  # Example connection configurations
  dev_postgres:
    driver: pgdb    # Optional, psycopg2 has the highest priority, this will ensure pgdb is used if both are installed
    type: postgres  # type is optional IF you specify a driver
    host: localhost
    port: 5432
    database: myapp_dev
    user: developer
    # password: prompt  # Will prompt for password
    # encrypted_password: gAAAAABh...  # Or use encrypted

  prod_oracle:
    type: oracle
    host: oracle.company.com
    port: 1521
    database: prod.company.com
    user: app_user
    encrypted_password: gAAAAABh...

# Encrypted passwords (optional)
passwords:
  openai_key:
    description: "OpenAI API key for data processing"
    encrypted_password: gAAAAABh...

# Custom driver definitions (optional)
drivers:
  my_custom_driver:
    database_type: postgres
    priority: 1
    param_map: { }
    required_params: [ { 'host', 'database', 'user' } ]
    optional_params: { 'port', 'password' }
    connection_method: kwargs
    default_port: 5432